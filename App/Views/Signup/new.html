{% extends "base.html" %}

{% block title %} Sign up {% endblock %}


{% block footer %}
    <script src="/js/hideShowPassword.min.js"></script>
    <script src="/js/app.js"></script>    
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>

    <script>
        

        $(document).ready(function(){
            
            $('#formSignup').validate({
                rules: {
                    name: 'required',
                    email: {
                        required: true,
                        email: true,
                        remote: '/account/validate-email'
                    },
                    password: {
                        required: true,
                        minlength: 6,
                        validPassword: true
                    },
                    checkboxRules: 'required',
                },
                messages: {
                    email: {
                        remote: 'email already taken'
                    },
                    rules: {
                        required: 'Zaakceptuj regulamin'
                    }
                }
            });

            /**
             * Show password toggle button
             *  
             */
            $('#inputPassword').hideShowPassword({
                show: false, 
                innerToggle: 'focus'
            });
        });

    </script>

{% endblock %}


{% block body %}

    <!-- <h1>Sign up</h1> -->

    {% if user.errors is not empty %}
        <p>Errors:</p>
        <ul>
            {% for error in user.errors %}
                <li>{{ error }}</li>
                {% endfor %}
        </ul>

    {% endif %}    

    
	<div class="container-fluid">
		<div class="container d-md-flex mt-5" id="menu-left">
			<div class="col-md-6 py-5 px-3 text-center d-flex flex-column justify-content-center">
				<div class="h1 main-text">Budżet Osobisty</div>
				<div class="sub-text">Monitoruj swoje wydatki i oszczędzaj</div>
			</div>
			<div class="col-md-6 py-5 px-4">
				<form method="post" action="/signup/create" id="formSignup">
					
				    <label class="mx-3 mt-3" for="inputName">Imię</label>
				    <input id="inputName" class="form-control w-100 p-2 rounded-pill border-2" type="text" placeholder="&#xf2bd;" name="name" autofocus required/><br>
							
			
					<label class="mx-3 mt-3" for="inputEmail">e-mail</label>
					<input id="inputEmail" class="form-control w-100 p-2 rounded-pill border-2" type="email" placeholder="&#xe80a;" name="email" value="{{ user.email }}" required/><br>

					
					<label class="mx-3 mt-3" for="inputPassword">Hasło</label>
					<input id="inputPassword" class="form-control w-100 p-2 rounded-pill border border-2" type="password" placeholder="&#xe809;"  name="password" minlength="5" required>

					<label for="checkboxRules">
                        <input id="checkboxRules" type="checkbox" name="rules" class="m-3" required> Przeczytałem i akceptuję regulamin 
                    </label>
						

					<div class="g-recaptcha" data-sitekey="6Le38swaAAAAAHlRTPQDbk8ePqgUvH1mxjafXLK2"></div>

					<div class="d-flex justify-content-center"><button class=" px-4 btn btn-primary my-3" type="submit">
							Zarejestruj </button>
					</div>


				</form>
				<div>Jeśli masz już konto to <a href="/login">Zaloguj się</a></div>

			</div>

		</div>
	</div>


    <!-- <form method = "POST" action="/signup/create" id="formSignup">
        <div class="form-group">
            <label for="inputName">Name</label>
            <input id="inputName" name="name" placeholder="Name" autofoucs value="{{ user.name }}" required class="form-control"/>
        </div>
        <div class="form-group">
            <label for="inputEmail">Email adress</label>
            <input id="inputEmail" name="email" placeholder="email" value="{{ user.email }}" required type="email" class="form-control"/>
        </div>
        <div class="form-group">
            <label for="inputPassword">Password</label>
            <input type="password" id="inputPassword" name="password" placeholder="Password" required class="form-control"/>
        </div> -->
        <!-- <div>
            <label for="inputPasswordConfirmation">Password</label>
            <input type="password" id="inputPasswordConfirmation" name="password_confirmation" placeholder="Repeat password"/>
        </div> -->

        <!-- <button type="submit" class="btn btn-primary">Sign Up</button>


    </form> -->


{% endblock %}